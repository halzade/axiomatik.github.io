<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Můj účet - Axiomatik</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/styles-dark.css" media="(prefers-color-scheme: dark)">
    <link rel="stylesheet" href="../css/webapp.css">
    <script src="../js/account.js" defer></script>
</head>
<body>
<div class="all">
    <main class="content">
        <h1>Můj účet</h1>
        <div class="account-info">
            <div class="field">
                <label>Uživatelské jméno:</label>
                <span>{{ username }}</span>
            </div>
            <br/>
            <div class="field">
                <label>Jméno autora:</label>
                <form id="author-form" action="/account/update-author" method="post" style="display: inline;">
                    <span id="author-name-display">{{ author_name }}</span>
                    <input type="text" name="author_name" id="author-name-input" value="{{ author_name }}" style="display: none;">
                    <button type="button" id="btn-edit">Změnit</button>
                    <button type="submit" id="btn-save" style="display: none;">Uložit</button>
                </form>
            </div>
        </div>

        <div class="account-buttons">
            <a href="/form" class="button">Vytvořit článek</a>
        </div>

        <h2>Moje články</h2>
        <div id="my-articles">
            {% for article in articles %}
            <div class="article-item">
                <div class="article-header">
                    <div class="left">
                        <span class="file-name">{{ article.article_file_name }}</span>
                        <h3 class="title">{{ article.title }}</h3>
                    </div>
                    <div class="right">
                        <span class="category">{{ article.category }}</span>
                        <span class="date">{{ article.date }}</span>
                    </div>
                </div>
                <div class="article-body">
                    <p class="short-text">{{ article.short_text }}</p>
                </div>
            </div>
            {% else %}
            <p>Zatím žádné články.</p>
            {% endfor %}
        </div>
    </main>
</div>
</body>
</html>