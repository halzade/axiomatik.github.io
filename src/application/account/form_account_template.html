<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Můj účet - NEXO</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/styles-dark.css" media="(prefers-color-scheme: dark)">
    <link rel="stylesheet" href="../css/webapp.css">
    <link rel="stylesheet" href="../css/webapp-dark.css" media="(prefers-color-scheme: dark)">
    <script src="../js/account.js" defer></script>
</head>
<body>
<div class="all">
    <main class="content">
        <h1>Můj účet</h1>
        <div class="account-info">
            <div class="field">
                <label>uživatelské jméno:</label>
                <span>{{ username }}</span>
            </div>
            <br/>
            <div class="field">
                <label>jméno autora zobrazené na článcích:</label>
                <form id="author-form" action="/account/update-author" method="post" style="display: inline;">
                    <span id="author-name-display">{{ author_name }}</span>&nbsp;&nbsp;
                    <input type="text" name="author_name" id="author-name-input" value="{{ author_name }}" style="display: none;">
                    <button type="button" id="btn-edit">Změnit</button>
                    <button type="submit" id="btn-save" style="display: none;">Uložit</button>
                </form>
            </div>
        </div>
        <br/>
        <br/>
        <div class="account-buttons">
            <button type="button" onclick="window.location.href='/form'" class="button">
                Vytvořit článek
            </button>
        </div>
        <br/>
        <h2>Moje články</h2>
        <div id="my-articles" class="article-grid">
            {% for article in articles %}
            <div class="article-item card">
                <div class="article-header">
                    <div class="left">
                        <a class="" href="{{ article.article_file_name }}.html">{{ article.article_file_name }}</a>
                        <br/>
                        <span class="">{{ article.date }}</span>
                        <br/>
                        <span class="">{{ article.category }}</span>
                        <br/>
                        <span class="">Přečteno: {{ article.views }}x</span>
                        <br/>
                        <h3 class="title">{{ article.title }}</h3>
                    </div>
                </div>
                <div class="article-body">
                    <p class="short-text">{{ article.short_text }}</p>
                </div>
            </div>
            {% else %}
            <p>Zatím žádné články.</p>
            {% endfor %}
        </div>
    </main>
</div>
</body>
</html>